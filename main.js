(()=>{"use strict";function e(e){e.classList.add("popup_opened")}function t(e){document.removeEventListener("keydown",n),e.classList.remove("popup_opened")}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_opened"))}var o=document.querySelector("#popup-add"),r=document.querySelector(".elements"),u=document.getElementById("element-template").content;function c(e){var t=u.querySelector(".element").cloneNode(!0),o=t.querySelector(".element__photo");return t.querySelector(".element__title").textContent=e.name,o.src=e.link,o.alt=e.link,t.querySelector(".element__button-like").addEventListener("click",(function(e){e.target.classList.toggle("element__button-like_active")})),t.querySelector(".element__button-delete").addEventListener("click",(function(){t.remove()})),o.addEventListener("click",(function(){return t=e,a.src=t.link,a.alt=t.name,p.textContent=t.name,void function(e){e.classList.add("popup_opened"),document.addEventListener("keydown",n)}(l);var t})),t}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return r.prepend(c(e))}));var i,l=document.querySelector("#popup-big"),p=document.querySelector(".popup__title-big"),a=document.querySelector(".popup__photo"),s=document.querySelector(".popup-profile"),d=document.querySelector(".profile__title"),m=document.querySelector(".profile__subtitle"),f=document.querySelector("#profile-form"),y=f.querySelector(".popup__input_type_name"),_=f.querySelector(".popup__input_type_profession");function v(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function b(e,t,n){t?(e.disabled=!1,e.classList.remove(n.inactiveButtonClass)):(e.disabled="disabled",e.classList.add(n.inactiveButtonClass))}i={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button-submit",inactiveButtonClass:"popup__button-submit_invalid",inputErrorClass:"popup__input_invalid"},v(document.querySelectorAll(i.formSelector)).forEach((function(e){!function(e,t){var n=e.querySelectorAll(t.inputSelector),o=e.querySelector(t.submitButtonSelector);b(o,e.checkValidity(),t),e.addEventListener("submit",(function(e){e.preventDefault()})),v(n).forEach((function(n){n.addEventListener("input",(function(){b(o,e.checkValidity(),t),function(e,t,n){var o=e.validity.valid,r=t.querySelector("#".concat(e.name,"-error"));o?function(e,t,n){e.classList.remove(n.inputErrorClass),t.textContent=""}(e,r,n):function(e,t,n){e.classList.add(n.inputErrorClass),t.textContent=e.validationMessage}(e,r,n)}(n,e,t)}))}))}(e,i)}));var k=document.querySelector(".profile__button-edit"),q=document.querySelector(".popup__button-close"),E=document.querySelector("#popup-big"),L=E.querySelector(".popup__button-close"),h=document.querySelector(".profile__button-add"),g=o.querySelector(".popup__button-close");k.addEventListener("click",(function(){e(s),y.value=d.textContent,_.value=m.textContent})),h.addEventListener("click",(function(){e(o)})),f.addEventListener("submit",(function(e){e.preventDefault(),d.textContent=y.value,m.textContent=_.value,t(s)})),document.querySelector("#post-form").addEventListener("submit",(function(e){e.preventDefault();var n=document.querySelector(".form__input_type_name").value,u=document.querySelector(".form__input_type_photo").value;r.prepend(c({name:n,link:u})),t(o),e.target.reset()})),q.addEventListener("click",(function(){t(s)})),g.addEventListener("click",(function(){t(o)})),L.addEventListener("click",(function(){t(E)})),E.addEventListener("click",(function(e){e.target.classList.contains("popup_opened")&&t(E)}))})();